# Заметки для интервью Drupal-frontend #

- Drupal7.x Front-end-developing-guidelines-ENG
- Вспомнить как ставятся готовые сборки Drupal 7
- Повторить мой конспект опроса Вкгзфд-акщтеутв
- Повторить список модулей
- Повторить список компетенций Drupal
- Повторить инструкцию Nextep


## Прочее ##
- Bootstrap 4 - что нового
  - Новая сетка
    В сетку добавлен еще один брейкпоинт col-xl-, при этом все остальные брейкпоинты остались, но сдвинулись на уровень ниже. 
  - поддержка FlexBox 
  - новый компонент card
    - заменяет удаленные: wells, thumbnails, panels. 
    - гибкий и мощный инструмент, включающий в себя возможности всех трех удаленных компонентов. 
    - Карточки можно группировать и даже реализовать сетку, так называемую кирпичную кладку.
  - поддержка IE
    - поддерживает IE 10 и выше, более ранние версии Internet Explorer не поддерживаются
    - если необходима поддержка: IE8/IE9, Safari 8-, iOS 8- и т.д., то сами разработчики фреймворка рекомендуют использовать Bootstrap 3.
  - переход на Sass - полный отказ от «Less»
  - новый модуль Reboot - для кроссбраузерности
    - включает в себя ядро «Normalize.css» и расширяет его. 
    - Все настройки для сброса стандартных стилей HTML-тегов у браузеров находятся в одном «Sass» файле. 
  - отказ от Glypicons 
    В Bootstrap 4 был полностью удален иконочный шрифт «Glypicons», который присутствует в третьем бутстрапе. 
    Разработчики фреймворка рекомендуют использовать сторонние библиотеки иконок поддерживающие формат SVG.
  - цвет элементов - вместо 6 базовых стало 8
    по сравнению с третьим бутстрапом, где было шесть основных классов для цветового оформления элементов, в четвертом бутстрапе таких классов стало восемь.
  - Пиксели (px) заменены на «em» и «rem»
    - 1em – текущий размер шрифта.
    - rem задаёт размер относительно размера шрифта элемента <html>. Элементы, размер которых задан в rem, не зависят друг от друга и от контекста – и этим похожи на px, а с другой стороны они все заданы относительно размера шрифта <html>.
  - Переписаны все JavaScript плагины под стандарты ECMAScript 6.
  - Обновлен дизайн всех компонентов (форм, таблиц, кнопок и т.д.).
  - Появилось гораздо больше служебных классов.
  - Улучшен функционал всплывающих подсказок и popover элементов.
- Sass - какие для вас главные преимущества&
  - переменные
  - вложенность
  - @import - можно подключать другие файлы SASS
  - @mixin (примеси) - позволяют создавать группы деклараций CSS, которые вам придется использовать по нескольку раз на сайте. 
    @mixin transform($property) {
      -webkit-transform: $property;
      -ms-transform: $property;
      transform: $property;
    }
    .box { @include transform(rotate(30deg)); }
  - @include - подключение миксина
  - @extend - можно наследовать наборы свойств CSS от одного селектора другому.
    %message-shared {
      border: 1px solid #ccc;
      padding: 10px;
      color: #333;
    }
    .success {
      @extend %message-shared;
      border-color: green;
    }
  - математические операции - сложение, вычитание, умножение, деление, остаток...
  - логические операторы - например, цвет кнопки меняетсяя в заивисмости от её ширины


## Книги ##
- https://www.drupal.org/books
- https://github.com/hechoendrupal/drupal8-links
- Томлинсон Т - CMS Drupal 7. Руководство по разработке системы управления веб-сайтом. 3-е издание

## Что нового в Drupal 8 ##
- Больше акцент на использование ООП
  - В 8-ке официально принято использование ООП. Начат постепенный отход от процедурного программирования и использования хуков, которые применялись в времена когда ООП еще небыло доступно в нужном объеме в PHP. 
  - В связи с этим появляется много новых, для Drupal, концепций и понятий. Для пространств имен принято следовать стандарту PSR-0 (чуть позже, возможно PSR-4). В 8-ке не будет сделан полный переход к ООП и частичное наследие в виде процедурного кода еще останется, но это будет осуществлено в Drupal 9.
- Использование компонентов Symfony 2
- Composer как пакетный менеджер управления зависимостями
- Twig как шаблонизатор (вместо Phptemplate)
-  RESTful сервер
  Из коробки, Drupal 8 может работать как REST сервер и обслуживать множество устройств.
- Почти всё является entity (см. ниже)
- Широкие настройки экспорта/импорта конфигураций
  Полностью переделана система конфигурирования и теперь данные о настройках храняться не в базе, как это было раньше, а в файлах. 
  Позволяет легко экспортировать/импортировать настройки, использовать разные настройки для разработки и релиза а также, хранить данные в системе управления версиями.
- Широкие настройки кэширования
- Апгрейт с предыдущих версий
  Для обновления с предыдущих основных версий, в ядро интегрирован модуль Migrate 
  Позволит напрямую обновляться с 6, 7 до 8
- Модуль Views в ядре 
- Встроенная мультиязычность
- Inline редактирование (кнопка редактировать прямо на блоке)
- Встроенный CKEditor редактор
- Добавление изображений
  Можно без установки дополнительных модулей, вставлять изображение в нужное место в тексте. 
  Возможна также одновременная загрузка нескольких изображений.
- Адаптивный дизайн для встроенных тем

- По сути, Drupal 8 = набор библиотек под Simphony (full-stack php-фрэймворк, на модели MVC, открытый код, по сути - набор автономных компонент)

- Перешли на entity - это и блок, и комментарий, и ещё много что... Можно добавлять поля и т.д.

- Конфигурации - перенос настроек базы данных. Аналог фич. Заменяет их. Знать как устроен деплоймент

- Composer -  это пакетный менеджер. Часть ядра Drupal. Типа npm/yarn только для php

- Кроме drush (утилита с интрефейсом CLI) есть Drupal console (CLI). 
	Интерфейс командной строки (CLI) - предназначен для генерации стандартного кода, взаимодействия и отладки Drupal.
		Генерация кода и файлов необходимых для модуля Drupal 8.
		Исследовать и отлаживать систему.
		Взаимодействовать с инсталляцией Drupal.
		Изучать Drupal 8
	Нужна больше для разработчиков модулей - автоматизирует рутинные операции, генерирует стандартный код

- Платный редактор Wisiwig, конструктор страниц

- Нюансы с подключением JS (behaivors, once)
    - имя перменной - обернув весь код без изменений, с помощью стандартного механизма выделения область видимости, объект jQuery стал доступен по имени $. 
	- behaviors -  специальный способ обработки события document ready. 
		Будет отрабатывать не только при загрузке странице, но и при AJAX-изменениях (т.е. когда элемнеты появляются/меняются асинхронно). Весь код, который должен вызваться при готовности страницы нужно заключить в behavior.  Все что нужно знать верстальщику — вместо обычного document ready писать бихевиоры. 
		И внутри всегда использовать context при построении селекторов. Context =  содержимое (DOM-элемент или селектор), к которому нужно применить(«приаттачить») бихевиор
	- once
		какие-то обработчики могут назначаться на одни и те же элементы дважды, а нужно это не всегда.
		При первой обработке добавляет класс, а в селекторе проверяет отсутствие этого класса. Если класс уже есть - повторно не отрабатывем

- Темы Bootstrap 4 делал на основе субтемы Barrio SASS

- Модуль Drupal Comerce - разработка интернет-магазинов

- BigPipe- подгрузка страниц сайта по частям (лэзи лоад). В ядре

- PageBuilder - замена Panels

## Поиск ##
- ApacheSolr и словарь для русского стемминга Drupal в рунете
- Sphinx

## Популярные модули Drupal 7 (использовал / полезно знать) ##
- Twig tweak (для Drupal 8) - Облегчает настройку шаблонов twig в Drupal 8
- Context 
	- группировка материалов и информации + реакция на них.
	Например, как не показывать блок например посетителям из москвы? 
	Или если на странице есть определённое представление? 
	Или если курс доллара ниже 25? 
	Или если у пользователя роль "покупатель" а на личном счёте 0? 
	Или на товар есть скидка? 
	Если терминов у материала два и больше?
	Если один блок надо отображать в нескольких местах страницы...
	Позволяет совершать определённые дейстивя при выполнении условий. Например, пометить активынм опредеённый пункт меню при условии что нода явлется опр. типом материала и её Поле Х находится в таком-то полодениии.
- Features
	переместить конфигурацию сайта из плоскости базы данных в плоскость кода, что позволит контролировать изменения в системе контроля версий.  
	пакуем изменения в базе в модуль, тестируем и загружаем на prod
- Backup and Migrate
- Panels
	- PageBuilder - хрошая замена Panels в D8
	- создаём стуктурированные макеты страниц, на основе которых мы будем формировать дальнейший вывод блоков
	- создает дополнительные регионы на страницах Drupal сайта. Каждый регион или область веб-страницы можно заполнить любым контентом и блоками. Этот модуль делает админку более гибкой и функциональной. Теперь вы сможете не просто перетаскивать блоки по разным регионам, но и увидеть результат визуально.
- Pargraphs (есть в 7 и 8)
	- новый способ добавления содержания! Он позволяет добавлять и управлять содержанием проще, чем используя стандартный подход.
	- дает возможность через множественное поле в ноде выводить другие типы параграфов: фотогалереи, текст с изображением, слайдеры, видео и прочее.
	- вместо тупого Full-HTML-поля, в котором все надо делать руками (и не все еще сделается) — можно для каждого материала по-своему контент разметить. Большие картинки, маленькие с обтеканием, видео, блоки, вьюзы, вкладки, аккордеоны — и все это не в редактор пихается, а просто мышкой накликивается. Главное заранее набор этих параграфов определить, и тогда даже контент-менеджер при некоторой сноровке сможет размечать навороченные страницы контента из этих параграфов самостоятельно. 
	- Вместо размещения всего содержания в одном поле через WYSIWYG-редактор, включая изображения и видео, пользователи могут на лету выбирать между предопределёнными типами абзацев, которые не зависят друг от друга. Типы абзацев могут быть чем чем угодно, от простого текстового блока или изображения, до сложного и настраиваемого слайд-шоу.
- Rules
	Позволяет создавать реакции на события.
	Например: после отправки формы переадресовать пользователя на опр. страницу или выдать pop-up
- CSS Injector - пишем CSS из админки
- HoneyPot - защита форм от спама
- Slick slider - JS-слайдер
- FlexSlider - ещё слайдер
- ManualCrop - кропать фотки
- Webforms - делать формы, собирать по ним статистику и т.д.
- Administration menu
- Colorbox
- Chaos tool suite (ctools) - API и набор инструментов, которые позволяют облегчить работу разработчика.
- Devel - dsm и т.д. Обеспечивает удобство работы для разработчиков модулей и тем.
- Theme developer (Devel themer)	
	Отладчик в Друпале, которой может показать всю необходимую информацию нужную для разработки темы. Включайте этот модуль при разработке темы и отключайте тогда, когда его использование не нужно.
	Основная идея модуля заключается в использовании hook_theme_registry_alter(), с помощью которого он получает все вызовы темы. Полученный результат и подсказки по использованию элементов оформления показываются с помощью яваскрипта поверх страницы, благодаря чему их можно переместить в удобное место на экране.
- Pathauto - настройка правил автоматической генерации адресов по различным параметрам.
- Views
- Libraries API
	Является «общим знаменателем» для всех модулей, тем и профилей, которым требуется интеграция с внешними библиотеками.
	Модуль вводит новое хранилище для библиотек: sites/all/libraries или sites//libraries. Библиотеки находящиеся в этих папках могут использоваться сразу несколькими модулями или сразу на нескольких сайтах. Процесс обновления модуля требующего для своей работы внешнюю библиотеку при таком подходе также становится проще.
- Better Exposed Filters - Позволяет выводить фильтры в виде ссылок/радио-кнопок 
- JQuery update - Обновляет версию jQuery (библиотека java-script), которая включена в Друпал.